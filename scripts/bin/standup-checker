#! /bin/sh

# echo $(node-jxa ~/Documents/Repos/Configs/KeyboardMaestro/jxa/standup-checker/dist/standup-checker.js)

DAY=`/bin/date +%u`
WEEK=`/bin/date +%V`
YEAR=`/bin/date +%Y`
STANDUP_FORMAT="zoom"

# All Fridays
if [[ $((DAY)) == 5 ]]; then
  STANDUP_FORMAT="slack"
fi

if [[ $((DAY)) != 5 ]]; then
  if [[ $(($WEEK % 2)) -eq 1 && $(($DAY)) == 3 ]] \
    || [[ $(($WEEK % 2)) -eq 0 && $(($DAY)) == 4 ]]; then
    STANDUP_FORMAT="slack"
  fi

  if [ $(($WEEK % 2)) -eq 0 && $(($DAY)) == 3 ] \
    || [ $(($WEEK % 2)) -eq 1 && $(($DAY)) == 4 ]; then
    STANDUP_FORMAT="slack"
  fi
fi

echo "$STANDUP_FORMAT"
